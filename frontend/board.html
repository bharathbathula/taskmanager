<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TaskFlow Pro - Boards</title>
    <link rel="stylesheet" href="css/board.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Mobile Menu Toggle -->
    <button
      class="mobile-menu-toggle"
      id="mobileMenuToggle"
      aria-label="Toggle menu"
    >
      <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <aside id="sidebar" class="sidebar">
      <div class="sidebar-header">
        <div class="app-icon">
          <i class="fas fa-tasks"></i>
        </div>
        <h1>TaskFlow</h1>
        <p>Enterprise Task Management</p>
      </div>
      <nav class="sidebar-nav">
        <a href="dashboard.html" class="nav-item">
          <i class="fas fa-chart-line"></i>
          <span>Dashboard</span>
        </a>
        <a href="board.html" class="nav-item active">
          <i class="fas fa-columns"></i>
          <span>Boards</span>
        </a>
      </nav>
      <button id="logoutBtn" class="logout-btn">
        <i class="fas fa-sign-out-alt"></i>
        <span>Logout</span>
      </button>
    </aside>

    <!-- Overlay for mobile -->
    <div class="overlay" id="overlay"></div>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Topbar -->
      <div class="topbar">
        <h2>Boards Management</h2>
        <div class="user-info">
          <i class="fas fa-user-circle"></i>
          <span id="userEmail">Welcome, User</span>
        </div>
      </div>

      <!-- Action Bar -->
      <div class="action-bar">
        <div class="search-container">
          <div class="search-wrapper">
            <i class="fas fa-search search-icon"></i>
            <input
              type="text"
              id="searchInput"
              placeholder="Search boards..."
              class="search-input"
            />
          </div>
        </div>
        <div class="action-buttons">
          <button class="sort-btn" id="sortBtn">
            <i class="fas fa-sort"></i>
            <span>Sort</span>
          </button>
          <button class="add-board-btn" id="addBoardBtn">
            <i class="fas fa-plus"></i>
            <span>Add Board</span>
          </button>
        </div>
      </div>

      <!-- Sort Dropdown -->
      <div class="sort-dropdown" id="sortDropdown">
        <div class="sort-option" data-sort="name">
          <i class="fas fa-sort-alpha-down"></i>
          Name (A-Z)
        </div>
        <div class="sort-option" data-sort="name-desc">
          <i class="fas fa-sort-alpha-up"></i>
          Name (Z-A)
        </div>
        <div class="sort-option" data-sort="date">
          <i class="fas fa-calendar-alt"></i>
          Newest First
        </div>
        <div class="sort-option" data-sort="date-desc">
          <i class="fas fa-calendar-alt"></i>
          Oldest First
        </div>
      </div>

      <!-- Boards Section -->
      <section class="boards-section">
        <!-- Desktop Table -->
        <div class="table-container desktop-table">
          <table class="boards-table">
            <thead>
              <tr>
                <th class="sortable" data-column="title">
                  Board Name
                  <i class="fas fa-sort sort-icon"></i>
                </th>
                <th class="sortable" data-column="description">
                  Description
                  <i class="fas fa-sort sort-icon"></i>
                </th>
                <th class="sortable" data-column="created_at">
                  Created Date
                  <i class="fas fa-sort sort-icon"></i>
                </th>
                <th>Tasks</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="boardsTableBody">
              <!-- Loading skeleton will be inserted here -->
            </tbody>
          </table>
        </div>

        <!-- Mobile Cards -->
        <div class="mobile-cards" id="boardsMobileCards">
          <!-- Loading cards will be inserted here -->
        </div>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState" style="display: none">
          <div class="empty-icon">
            <i class="fas fa-clipboard-list"></i>
          </div>
          <h3>No Boards Found</h3>
          <p>
            Create your first board to get started with organizing your tasks.
          </p>
          <button
            class="empty-action-btn"
            onclick="document.getElementById('addBoardBtn').click()"
          >
            <i class="fas fa-plus"></i>
            Create Board
          </button>
        </div>
      </section>
    </main>

    <!-- Board Modal -->
    <div id="boardModal" class="modal-overlay" style="display: none">
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="boardModalTitle">Add Board</h3>
          <button class="modal-close" id="boardModalClose">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="boardNameInput" class="form-label">Board Name</label>
            <input
              type="text"
              id="boardNameInput"
              class="form-input"
              placeholder="Enter board name..."
              required
            />
            <div class="field-error" id="nameError"></div>
          </div>
          <div class="form-group">
            <label for="boardDescInput" class="form-label">Description</label>
            <textarea
              id="boardDescInput"
              class="form-input form-textarea"
              placeholder="Enter board description..."
              rows="4"
              required
            ></textarea>
            <div class="field-error" id="descError"></div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="boardModalCancel">
            <i class="fas fa-times"></i>
            <span>Cancel</span>
          </button>
          <button class="btn btn-primary" id="boardModalSave">
            <i class="fas fa-save"></i>
            <span>Save Board</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="modal-overlay" style="display: none">
      <div class="modal-content modal-small">
        <div class="modal-header">
          <h3>Delete Board</h3>
          <button class="modal-close" id="deleteModalClose">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="delete-confirmation">
            <i class="fas fa-exclamation-triangle warning-icon"></i>
            <p>
              Are you sure you want to delete "<span id="deleteBoardName"></span
              >"?
            </p>
            <p class="delete-warning">
              This action cannot be undone and will delete all tasks in this
              board.
            </p>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary" id="deleteModalCancel">
            <i class="fas fa-times"></i>
            <span>Cancel</span>
          </button>
          <button class="btn btn-danger" id="deleteModalConfirm">
            <i class="fas fa-trash"></i>
            <span>Delete Board</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Toast Notifications Container -->
    <div id="toastContainer" class="toast-container"></div>

    <script src="js/board.js"></script>
  </body>
</html>
